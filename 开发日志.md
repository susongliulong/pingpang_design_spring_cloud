# 2024/3/24

开发进行到现在完成的主要工作有前后端开发环境的搭建，包含

1. 后端开发环境搭建：导入各种各样的依赖，配置常用的消息转化器，处理跨域和Cookie统一拦截
2. 前端开发环境搭建：使用Vue3
3. 使用git作为版本控制工具

完善前端多个界面的原型设计：

1. 注册和登录界面以及新闻展示界面和教程展示界面
2. 完成重要组件设计：评论框（CommentVue）

完成数据库设计:

1. 使用Power Designer完成数据库设计

后端代码自动生成：

1. 使用mbg自动生成相应的模板类

# 2024/3/29

概要设计阶段所有的工作已经完成，前期进行了大量的预编码工作。接下来结合前期编码以及自身实力对项目进行编写。最终完成整个项目的代码编写。但是在论文撰写中遇到了困难，究竟是先写文档还是先实现？

# 2024/4/7

[springcloud 整合redis_redis_污青-华为云开发者联盟 (csdn.net)](https://huaweicloud.csdn.net/63356736d3efff3090b55c64.html?spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-5-122043178-blog-124349947.235^v43^pc_blog_bottom_relevance_base7&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-5-122043178-blog-124349947.235^v43^pc_blog_bottom_relevance_base7&utm_relevant_index=10#devmenu6)

上面的这篇文章涉及到Redis的基础使用，直接复制粘贴即可使用。很快。

完成账号管理模块的设计，实现以及测试工作。主要实现的亮点有：

1. 用户登录失败次数超过三次的时候暂停用户登录1分钟
2. 图片上传和下载

在实现过程中遇到了各种各样的问题，现在对各种问题进行总结

## maven依赖冲突问题

首先需要注意的是每一个Spring Cloud都对因一个Spring Boot版本。这是最基本的版本匹配。

其次需要注意的是Spring Cloud基于Spring Boot，使用到了Spring Boot中一些核心依赖，例如web，test。其他组件整合进入Spring Boot时通常采用\*\***-starter的方式或者spring-boot-starter-\*\*的方式，不要直接导入某个具体的依赖。

不同的组件对Spring Boot的要求不同，例如Spring Boot3中Mybatis Plus的版本和Spring Boot2中的就不一样，如果错误的配置。在启动的时候就会出现某个jar包中不存在指定的类的错误。

## 前端单选框和多选框数据回显问题

无论是单选框radio还是多选框checkBox，都是通过标签中的value属性来控制回显的。需要特别注意value属性的类型。当写成string类型的时候，此时需要特别注意数据回显时v-model绑定的值也为string类型，同理也适用于number类型。代码示例如下：

```vue
<el-form-item label="球龄" prop="playYears">
              <el-radio-group v-model="ruleForm.playYears">
                <el-radio label="1月" :value="1" />
                <el-radio label="3月" :value="3" />
                <el-radio label="1年" :value="12" />
                <el-radio label="5年" :value="60"/>
                <el-radio label="10年" :value="120" />
              </el-radio-group>
</el-form-item>
```

此时playYears应当为number类型，后端传给前端用来数据回显的时候playYears也应当为number类型，而不要错误写成string类型。如下：

```vue
<el-form-item label="球龄" prop="playYears">
              <el-radio-group v-model="ruleForm.playYears">
                <el-radio label="1月" value="1" />
                <el-radio label="3月" value="3" />
                <el-radio label="1年" value="12" />
                <el-radio label="5年" value="60"/>
                <el-radio label="10年" value="120" />
              </el-radio-group>
            </el-form-item>
```

## 使用openfeign进行服务调用

1. 服务调用的时候尽量不要传递HttpServletRequest或者HttpServletResponse参数
2. 服务调用的时候，需要显式的用@RequestParam注明参数的名称，在不写的情况下，方法默认在参数前面加的注解是@RequestBody

## 使用DTO封装前端数据请求，使用Vo返回后台处理数据

## 使用axios出现的异步问题

当同步代码和异步代码同时出现的时候，此时需要注意代码执行的顺序。一种解决方案是对于异步方法，设置参数。由同步代码对参数传值。或者使用if-else语句进行显示控制。