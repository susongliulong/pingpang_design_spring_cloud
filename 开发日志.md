# 2024/3/24

开发进行到现在完成的主要工作有前后端开发环境的搭建，包含

1. 后端开发环境搭建：导入各种各样的依赖，配置常用的消息转化器，处理跨域和Cookie统一拦截
2. 前端开发环境搭建：使用Vue3
3. 使用git作为版本控制工具



完善前端多个界面的原型设计：

1. 注册和登录界面以及新闻展示界面和教程展示界面
2. 完成重要组件设计：评论框（CommentVue）

完成数据库设计:

1. 使用Power Designer完成数据库设计

后端代码自动生成：

1. 使用mbg自动生成相应的模板类

# 2024/3/29

概要设计阶段所有的工作已经完成，前期进行了大量的预编码工作。接下来结合前期编码以及自身实力对项目进行编写。最终完成整个项目的代码编写。但是在论文撰写中遇到了困难，究竟是先写文档还是先实现？

# 2024/4/7

[springcloud 整合redis_redis_污青-华为云开发者联盟 (csdn.net)](https://huaweicloud.csdn.net/63356736d3efff3090b55c64.html?spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-5-122043178-blog-124349947.235^v43^pc_blog_bottom_relevance_base7&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-5-122043178-blog-124349947.235^v43^pc_blog_bottom_relevance_base7&utm_relevant_index=10#devmenu6)

上面的这篇文章涉及到Redis的基础使用，直接复制粘贴即可使用。很快。

完成账号管理模块的设计，实现以及测试工作。主要实现的亮点有：

1. 用户登录失败次数超过三次的时候暂停用户登录1分钟
2. 图片上传和下载

在实现过程中遇到了各种各样的问题，现在对各种问题进行总结

## maven依赖冲突问题

首先需要注意的是每一个Spring Cloud都对因一个Spring Boot版本。这是最基本的版本匹配。

其次需要注意的是Spring Cloud基于Spring Boot，使用到了Spring Boot中一些核心依赖，例如web，test。其他组件整合进入Spring Boot时通常采用\*\***-starter的方式或者spring-boot-starter-\*\*的方式，不要直接导入某个具体的依赖。

不同的组件对Spring Boot的要求不同，例如Spring Boot3中Mybatis Plus的版本和Spring Boot2中的就不一样，如果错误的配置。在启动的时候就会出现某个jar包中不存在指定的类的错误。

## 前端单选框和多选框数据回显问题

无论是单选框radio还是多选框checkBox，都是通过标签中的value属性来控制回显的。需要特别注意value属性的类型。当写成string类型的时候，此时需要特别注意数据回显时v-model绑定的值也为string类型，同理也适用于number类型。代码示例如下：

```vue
<el-form-item label="球龄" prop="playYears">
              <el-radio-group v-model="ruleForm.playYears">
                <el-radio label="1月" :value="1" />
                <el-radio label="3月" :value="3" />
                <el-radio label="1年" :value="12" />
                <el-radio label="5年" :value="60"/>
                <el-radio label="10年" :value="120" />
              </el-radio-group>
</el-form-item>
```

此时playYears应当为number类型，后端传给前端用来数据回显的时候playYears也应当为number类型，而不要错误写成string类型。如下：

```vue
<el-form-item label="球龄" prop="playYears">
              <el-radio-group v-model="ruleForm.playYears">
                <el-radio label="1月" value="1" />
                <el-radio label="3月" value="3" />
                <el-radio label="1年" value="12" />
                <el-radio label="5年" value="60"/>
                <el-radio label="10年" value="120" />
              </el-radio-group>
            </el-form-item>
```

## 使用openfeign进行服务调用

1. 服务调用的时候尽量不要传递HttpServletRequest或者HttpServletResponse参数
2. 服务调用的时候，需要显式的用@RequestParam注明参数的名称，在不写的情况下，方法默认在参数前面加的注解是@RequestBody

## 使用DTO封装前端数据请求，使用Vo返回后台处理数据

## 使用axios出现的异步问题

当同步代码和异步代码同时出现的时候，此时需要注意代码执行的顺序。一种解决方案是对于异步方法，设置参数。由同步代码对参数传值。或者使用if-else语句进行显示控制。

# 2024/4/16

## 完成资讯管理代码编写

1. idea实现热部署

## 生成资讯管理所需要的测试数据

1. 使用Java作为爬虫，所用到的核心API包含Java正则表达式，以及HttpConnection请求客户端
2. Java正则表达式的语法需要熟悉

# 2024/4/19 赛事管理

1. 生成赛事管理所需要的测试数据
2. 获取发布的赛事信息
3. 根据关键词搜索赛事信息
4. 赛事发布
5. 赛事报名
6. 赛事分组

## 爬取https网站的时候需要安装对应网站的证书

证书格式为crt

下载完毕之后，使用keytools工具安装证书

```java
keytool -import -alias <证书别名> -keystore cacerts -file <证书位置>

keytool -list -keystore cacerts -alias <证书别名>
```

在使用第三方代码访问时，将不会报错：

> unable to find valid certification path to requested target

第三方访问代码：

```java
URL url = new URL("https://www.gdut.edu.cn/jgsz/jxjg.htm");
HttpsURLConnection urlConnection = (HttpsURLConnection) url.openConnection();
urlConnection.setRequestMethod("GET");
BufferedReader bufferedReader = new BufferedReader(newInputStreamReader(urlConnection.getInputStream()));
String line;
String collegePattern="target=\"_blank\">(.{2,13})学院</a>";
Pattern pattern = Pattern.compile(collegePattern);
while((line = bufferedReader.readLine())!=null){
     Matcher matcher = pattern.matcher(line);
     while(matcher.find()){
                
     }
}
```

# 2024/4/21

## 完成教程发布模块代码编写

首先实现发布教程功能。

用户点击发送教程前，首先查看用户是否具有发送教程的资格。

用户编辑教程内容之后，发送给后台服务器。

展示用户已经发布的教程信息，点击之后在该页面进行回显（在后台调用的方法应当为saveOrUpdate）

## 在教程展示界面，展示详细的教程信息

初始化的时候，从后台加载数据获取一级菜单和二级菜单的内容。

点击某一个二级菜单的时候，根据教程id在后台获取教程的详细内容。

